<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
  <meta charset="utf-8">
  <title>Watchlist</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta property="fb:app_id" content="1968068840134141" />
  <meta property="og:url" content="https://mycaule.github.io/portfolo" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Bitcoin Watchlist" />
  <meta property="og:description" content="Bitcoin Watchlist" />
  <meta property="og:image" content="https://dummyimage.com/600x400/000/fff" />
  <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre.min.css">
  <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre-exp.min.css">
  <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre-icons.min.css">
  <link rel="stylesheet" href="style.css">
</head>

<body mv-app mv-storage="local" mv-autosave="0" mv-bar="none">
  <meta property="spot" />
  <meta property="checked_time" />
  <meta property="checked_date" />
  <meta property="open1d" />
  <meta property="avg52w" />
  <meta property="min52w" />
  <meta property="max52w" />
  <meta property="vol1d" />
  <meta property="avg_vol30d" />
  <meta property="total_value" content="[sum(position1 * spot)]" />
  <meta property="gain1d" content="[sum(position1 * (spot - open1d))]" />
  <meta property="gain_total" content="[sum(position1 * (spot - price1))]" />

  <div id="fb-root"></div>
  <script>
    (function(d, s, id) {
      var js, fjs = d.getElementsByTagName(s)[0];
      if (d.getElementById(id)) return;
      js = d.createElement(s); js.id = id;
      js.src = 'https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.11&appId=1968068840134141';
      fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));
  </script>

  <div class="container">
    <h4>Watchlist</h4>
  </div>
  <div class="container">
    <div class="columns">
      <div class="column col-10">
        <table class="table table-scroll">
          <tr>
            <th>Total Value ([currency])</th>
            <th>Day Gain ([currency])</th>
            <th>Total Gain ([currency])</th>
          </tr>
          <tr>
            <td><h5>[total_value]</h5></td>
            <td class="[iff(gain1d>0, 'text-success', 'text-error')]">
              <i class="icon [iff(gain1d>0, 'icon-upward', 'icon-downward')]"></i> [gain1d] |
              <small>[gain1d / (total_value-gain1d) * 100]%</small>
            </td>
            <td class="[iff(gain_total>0, 'text-success', 'text-error')]">
              <i class="icon [iff(gain_total>0, 'icon-upward', 'icon-downward')]"></i> [gain_total] |
              <small>[gain_total/(total_value-gain_total) * 100]%</small>
            </td>
          </tr>
        </table>
      </div>
      <div class="column col-2">
        <blockquote>
          Data as of:<br>
          [checked_time]<br>
          on [checked_date]
        </blockquote>
      </div>
    </div>

    <div class="columns">
      <div class="column col-3">
        <ul class="tab tab-block">
          <li class="tab-item active"><a href="#">Summary</a></li>
          <li class="tab-item"><a href="#">Holdings</a></li>
          <li class="tab-item"><a href="#">Edit</a></li>
        </ul>
      </div>
    </div>
    <div class="columns">
      <div class="column col-8">
        <div id="Summary" class="section">
          <table class="table table-scroll">
            <tr>
              <th>Symbol</th>
              <th>Last Price<br>Time</th>
              <th>2 Day Performance</th>
              <th>%Change<br>Day Change</th>
              <th>Volume<br>30 Day Average</th>
              <th>52 Week Range</th>
            </tr>
            <tr>
              <td><select class="form-select" id="bases" property="base" mv-default="BTC"></select><br><select class="form-select" id="currencies" property="currency" mv-default="EUR"></select></td>
              <td><b>[spot]</b><br>[checked_date]</td>
              <td>
                <div id="graphPerf2d"></div>
              </td>
              <td class="[iff(spot>open1d, 'text-success', 'text-error')]"><b>[(spot/open1d-1)*100]%</b><br>[spot-open1d]</td>
              <td><b>[vol1d]</b><br>[avg_vol30d]</td>
              <td>
                <meter class="meter" property="range52w" min="[min52w]" value="[spot]" max="[max52w]" datatype="number"></meter>
                <br><small>[min52w]</small> - <small>[max52w]</small>
              </td>
            </tr>
          </table>
        </div>

        <div id="Holdings" class="section" style="display:none">
          <table class="table table-scroll">
            <tr>
              <th>Symbol</th>
              <th>Last Price<br>Time</th>
              <th>% Change<br>Net Change</th>
              <th>Day Gain<br>([currency])</th>
              <th>Positions</th>
              <th>Cost<br>Avg Price</th>
              <th>Net Gain<br>([currency])</th>
              <th>Value<br>([currency])</th>
            </tr>
            <tr>
              <td><b>[base]-[currency]</b><br>.</td>
              <td><b>[spot]</b><br>[checked_date]</td>
              <td class="[iff(gain_total>0, 'text-success', 'text-error')]"><b>[gain_total/(total_value-gain_total) * 100]%</b><br>[gain_total]</td>
              <td class="[iff(gain1d>0, 'text-success', 'text-error')]"><b>[gain1d]</b><br>.</td>
              <td><b>[sum(position1)]</b><br>[count(lot)] lots</td>
              <td><b>[sum(position1*price1)]</b><br>[avg52w]</td>
              <td class="[iff(gain_total>0, 'text-success', 'text-error')]"><b>[gain_total/(total_value-gain_total) * 100]%</b><br>[gain_total]</td>
              <td><b>[total_value]</b><br>.</td>
            </tr>
          </table>
        </div>

        <div id="Edit" class="section" style="display:none">
          <table class="table table-scroll">
            <tr>
              <th>Symbol</th>
              <th>Date</th>
              <th>Position</th>
              <th>Price</th>
            </tr>
            <tr property="lot" mv-mode="edit" mv-multiple>
              <td><span property="base1" mv-edit="#bases" mv-mode="edit" mv-default="BTC"></span></td>
              <td><time mv-mode="edit" property="date1" mv-default="2016-12-16"></time></td>
              <td><input class="form-input input-sm" type="text" property="position1" mv-default="1"/></td>
              <td><input class="form-input input-sm" type="text" min="300" property="price1" mv-default="[spot]"/></td>
            </tr>
          </table>
        </div>
      </div>
      <div class="column col-4">
        <p>
          <h4>Watchlist News</h4>
          <div id="feed5"></div>
          <div id="feed10" class="more-news" style="display:none"></div>
          <br>
          <a href="#" id="toggleFeed">Show more watchlist news</a>
        </p>

        <p>
          <h4>Benchmarks</h4>
          ...
        </p>
      </div>
    </div>
  </div>

  <div class="container">
    <div>
      <div class="fb-like" data-href="https://mycaule.github.io/portfolio" data-layout="button_count" data-action="recommend" data-size="large" data-show-faces="true" data-share="true"></div>
    </div>
    <div>
      <a href="https://github.com/mycaule/portfolio"><img src="img/GitHub_Logo.png" height="20" alt="GitHub"></a>
    </div>

    &copy; 2018 Michel Hua
  </div>

  <script src="https://dev.mavo.io/dist/mavo.es5.min.js"></script>
  <script type="text/javascript" src="https://rss2json.com/gfapi.js"></script>
  <script src="dist/app.js"></script>
</body>
</html>
