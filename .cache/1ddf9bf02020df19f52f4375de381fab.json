{"dependencies":[{"name":"axios","loc":{"line":3,"column":22}},{"name":"superstruct","loc":{"line":4,"column":18}}],"generated":{"js":"/* eslint new-cap: \"off\" */\n\nconst axios = require('axios')\nconst S = require('superstruct')\n\nconst coinbase = axios.create({\n  baseURL: 'https://api.coinbase.com/v2',\n  timeout: 3000\n})\n\nconst Base = S.struct.enum(['BTC', 'ETH', 'LTC'])\nconst Currency = S.struct.enum(['EUR', 'USD'])\nconst Amount = S.struct('string')\nconst Time = S.struct('string')\nconst Period = S.struct.enum(['hour', 'day', 'week', 'month', 'year', 'all'])\n\nconst Spots = S.struct([{\n  base: Base,\n  currency: Currency,\n  amount: Amount\n}])\n\nconst Prices = S.struct({\n  currency: Currency,\n  prices: [{\n    price: Amount,\n    time: Time\n  }]\n})\n\nconst spot = (c = `EUR`) => coinbase.get(`/prices/${Currency(c)}/spot`).then(resp => Spots(resp.data.data))\n\nconst historic = (b = 'BTC', c = 'EUR', p = 'year') =>\n  coinbase.get(`/prices/${Base(b)}-${Currency(c)}/historic`, {\n    params: {\n      period: Period(p)\n    }\n  }).then(resp => Prices(resp.data.data))\n\nconst reference = () => [Base, Currency]\n\nmodule.exports = {spot, historic, reference}\n"},"hash":"7ea9663257739dfe96efa6433c31f22d"}